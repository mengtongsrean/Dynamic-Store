{"ast":null,"code":"import axiosInstance from '@/axios.js';\nexport default {\n  data() {\n    return {\n      previousOrders: [],\n      loading: true,\n      error: null,\n      isAuthenticated: !!localStorage.getItem('token')\n    };\n  },\n  async created() {\n    if (this.isAuthenticated) {\n      try {\n        const response = await axiosInstance.get('/users/previous-orders', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.previousOrders = response.data || [];\n      } catch (error) {\n        this.error = 'Failed to load past orders.';\n      } finally {\n        this.loading = false;\n      }\n    } else {\n      this.loading = false;\n    }\n  }\n};","map":{"version":3,"names":["axiosInstance","data","previousOrders","loading","error","isAuthenticated","localStorage","getItem","created","response","get","headers","Authorization"],"sources":["/Users/macbookpro/Documents/University/Year 3/Pathway 1/COS30043 Interface Design and Development/HD Project/football-store-app/src/views/PastOrders.vue"],"sourcesContent":["<template>\n  <div class=\"past-orders-container\">\n    <h1>Past Orders</h1>\n    <div v-if=\"!isAuthenticated\" class=\"text-center\">\n      <p>You need to <router-link to=\"/login-page\">login</router-link> or <router-link to=\"/register-page\">register</router-link> to view your past orders.</p>\n    </div>\n    <div v-else>\n      <div v-if=\"loading\" class=\"text-center\">\n        <p>Loading...</p>\n      </div>\n      <div v-if=\"!loading && previousOrders.length === 0\" class=\"text-center\">\n        <p>No past orders found.</p>\n      </div>\n      <div v-else>\n        <div class=\"order-card\" v-for=\"order in previousOrders\" :key=\"order.orderId\">\n          <h2>Order ID: {{ order.orderId }}</h2>\n          <p><strong>Order Date:</strong> {{ order.orderDate }}</p>\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Product Name</th>\n                <th scope=\"col\">Price</th>\n                <th scope=\"col\">Quantity</th>\n                <th scope=\"col\">Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"product in order.products\" :key=\"product.productId\">\n                <td>{{ product.name }}</td>\n                <td>${{ product.price }}</td>\n                <td>{{ product.quantity }}</td>\n                <td>${{ (product.price * product.quantity).toFixed(2) }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <p><strong>Order Total:</strong> ${{ order.total.toFixed(2) }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axiosInstance from '@/axios.js';\n\nexport default {\n  data() {\n    return {\n      previousOrders: [],\n      loading: true,\n      error: null,\n      isAuthenticated: !!localStorage.getItem('token')\n    };\n  },\n  async created() {\n    if (this.isAuthenticated) {\n      try {\n        const response = await axiosInstance.get('/users/previous-orders', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.previousOrders = response.data || [];\n      } catch (error) {\n        this.error = 'Failed to load past orders.';\n      } finally {\n        this.loading = false;\n      }\n    } else {\n      this.loading = false;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.past-orders-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.order-card {\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.table {\n  margin-bottom: 0;\n}\n\nh1 {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.text-center {\n  text-align: center;\n}\n\nstrong {\n  font-weight: bold;\n}\n</style>\n"],"mappings":"AA2CA,OAAOA,aAAY,MAAO,YAAY;AAEtC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE,EAAE;MAClBC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE,IAAI;MACXC,eAAe,EAAE,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO;IACjD,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI,IAAI,CAACH,eAAe,EAAE;MACxB,IAAI;QACF,MAAMI,QAAO,GAAI,MAAMT,aAAa,CAACU,GAAG,CAAC,wBAAwB,EAAE;UACjEC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASN,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;UACzD;QACF,CAAC,CAAC;QACF,IAAI,CAACL,cAAa,GAAIO,QAAQ,CAACR,IAAG,IAAK,EAAE;MAC3C,EAAE,OAAOG,KAAK,EAAE;QACd,IAAI,CAACA,KAAI,GAAI,6BAA6B;MAC5C,UAAU;QACR,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB;IACF,OAAO;MACL,IAAI,CAACA,OAAM,GAAI,KAAK;IACtB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}