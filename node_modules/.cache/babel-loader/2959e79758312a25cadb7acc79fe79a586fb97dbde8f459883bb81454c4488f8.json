{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-216897e8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"register-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Register\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"username\"\n}, \"Username:\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email:\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Password:\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"confirmPassword\"\n}, \"Confirm Password:\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"phone\"\n}, \"Phone:\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  class: \"form-group\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"role\"\n}, \"Role:\", -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", null, \"Customer\", -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", null, \"Admin\", -1 /* HOISTED */));\nconst _hoisted_17 = [_hoisted_15, _hoisted_16];\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n}, \"Register\", -1 /* HOISTED */));\nconst _hoisted_19 = {\n  key: 0,\n  class: \"text-danger\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.register && $options.register(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event),\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.username]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.email = $event),\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.password = $event),\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"confirmPassword\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.confirmPassword = $event),\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.confirmPassword]])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"phone\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.phone = $event),\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.phone]])]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"select\", {\n    id: \"role\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.role = $event),\n    class: \"form-control\"\n  }, [..._hoisted_17], 512 /* NEED_PATCH */), [[_vModelSelect, $data.role]])]), _hoisted_18], 32 /* NEED_HYDRATION */), $data.errors.length ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_19, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.errors, error => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: error\n    }, _toDisplayString(error), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"p\", null, [_createTextVNode(\" Already have an account? \"), _createVNode(_component_router_link, {\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Login here\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\". \")])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","_hoisted_15","_hoisted_16","type","key","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","register","_hoisted_3","_hoisted_4","id","$event","$data","username","_hoisted_5","_hoisted_6","email","_hoisted_7","_hoisted_8","password","_hoisted_9","_hoisted_10","confirmPassword","_hoisted_11","_hoisted_12","phone","_hoisted_13","_hoisted_14","role","_hoisted_17","_hoisted_18","errors","length","_hoisted_19","_Fragment","_renderList","error","_toDisplayString","_createCommentVNode","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_"],"sources":["/Users/macbookpro/Documents/University/Year 3/Pathway 1/COS30043 Interface Design and Development/HD Project/football-store-app/src/views/RegisterPage.vue"],"sourcesContent":["<!-- <template>\n    <div>\n      <h1>Register</h1>\n      <form @submit.prevent=\"register\">\n        <div>\n          <label for=\"username\">Username:</label>\n          <input type=\"text\" id=\"username\" v-model=\"username\" required>\n        </div>\n        <div>\n          <label for=\"email\">Email:</label>\n          <input type=\"email\" id=\"email\" v-model=\"email\" required>\n        </div>\n        <div>\n          <label for=\"password\">Password:</label>\n          <input type=\"password\" id=\"password\" v-model=\"password\" required>\n        </div>\n        <div>\n          <label for=\"phone\">Phone:</label>\n          <input type=\"text\" id=\"phone\" v-model=\"phone\" required>\n        </div>\n        <div>\n          <label for=\"role\">Role:</label>\n          <select id=\"role\" v-model=\"role\" required>\n            <option>Customer</option>\n            <option>Admin</option>\n          </select>\n        </div>\n        <button type=\"submit\">Register</button>\n      </form>\n      <p v-if=\"error\">{{ error }}</p>\n      <p>\n        Already have an account? <router-link to=\"/login-page\">Login here</router-link>.\n      </p>\n    </div>\n  </template>\n  \n  <script>\n  import axiosInstance from '@/axios.js'\n\n  export default {\n    data() {\n      return {\n        username: '',\n        email: '',\n        password: '',\n        phone: '',\n        role: 'Customer',\n        error: '',\n      };\n    },\n    methods: {\n      async register() {\n        try {\n          const response = await axiosInstance.post('/users/register', {\n            username: this.username,\n            email: this.email,\n            password: this.password,\n            phone: this.phone,\n            role: this.role,\n          });\n          // Save user data in localStorage or vuex store\n          localStorage.setItem('user', JSON.stringify(response.data));\n          this.$router.push('/profile');\n        } catch (error) {\n          this.error = 'Registration failed';\n        }\n      },\n    },\n  };\n  </script>\n   -->\n\n   <template>\n    <div class=\"register-container\">\n      <h1>Register</h1>\n      <form @submit.prevent=\"register\">\n        <div class=\"form-group\">\n          <label for=\"username\">Username:</label>\n          <input type=\"text\" id=\"username\" v-model=\"username\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">Email:</label>\n          <input type=\"email\" id=\"email\" v-model=\"email\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">Password:</label>\n          <input type=\"password\" id=\"password\" v-model=\"password\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"confirmPassword\">Confirm Password:</label>\n          <input type=\"password\" id=\"confirmPassword\" v-model=\"confirmPassword\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"phone\">Phone:</label>\n          <input type=\"text\" id=\"phone\" v-model=\"phone\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"role\">Role:</label>\n          <select id=\"role\" v-model=\"role\" class=\"form-control\">\n            <option>Customer</option>\n            <option>Admin</option>\n          </select>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">Register</button>\n      </form>\n      <ul v-if=\"errors.length\" class=\"text-danger\">\n        <li v-for=\"error in errors\" :key=\"error\">{{ error }}</li>\n      </ul>\n      <p>\n        Already have an account? <router-link to=\"/login\">Login here</router-link>.\n      </p>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        username: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        phone: '',\n        role: 'Customer',\n        errors: [],\n      };\n    },\n    methods: {\n      validateEmail(email) {\n        const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n        return emailPattern.test(email);\n      },\n      validatePassword(password) {\n        const pwdPattern = /(?=.*[\\$%\\^&\\*]).{8,}/;\n        return pwdPattern.test(password);\n      },\n      validatePhone(phone) {\n        const phonePattern = /^04\\d{8}$/;\n        return phonePattern.test(phone);\n      },\n      validateForm() {\n        this.errors = [];\n  \n        const namePattern = /^[A-Za-z]+$/;\n  \n        if (!this.username || !this.username.match(namePattern)) {\n          this.errors.push(\"Username must contain only letters and is required.\");\n        }\n        if (!this.email || !this.validateEmail(this.email)) {\n          this.errors.push(\"Must be in email format and is required.\");\n        }\n        if (!this.password || !this.validatePassword(this.password)) {\n          this.errors.push(\"Password must be at least 8 characters and include at least one special character ($, %, ^, &, *).\");\n        }\n        if (this.password !== this.confirmPassword) {\n          this.errors.push(\"Passwords do not match.\");\n        }\n        if (!this.phone || !this.validatePhone(this.phone)) {\n          this.errors.push(\"Mobile number must be 10 digits and start with 04.\");\n        }\n  \n        return this.errors.length === 0;\n      },\n      async register() {\n        if (!this.validateForm()) {\n          return;\n        }\n  \n        try {\n          const response = await axios.post('http://localhost:5000/users/register', {\n            username: this.username,\n            email: this.email,\n            password: this.password,\n            phone: this.phone,\n            role: this.role,\n          });\n  \n          if (response.data.token && response.data.user) {\n            localStorage.setItem('token', response.data.token);\n            localStorage.setItem('user', JSON.stringify(response.data.user));\n            this.$router.push('/profile');\n          } else {\n            this.errors.push('Unexpected response from server.');\n          }\n        } catch (error) {\n          if (error.response && error.response.data && error.response.data.message) {\n            this.errors.push(error.response.data.message);\n          } else {\n            this.errors.push('Registration failed.');\n          }\n          console.error('Error during registration:', error);\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .register-container {\n    max-width: 400px;\n    margin: 0 auto;\n    padding: 20px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    background-color: #f9f9f9;\n  }\n  \n  .form-group {\n    margin-bottom: 15px;\n  }\n  \n  .btn-primary {\n    background-color: #007bff;\n    border-color: #007bff;\n  }\n  \n  .text-danger {\n    color: #dc3545;\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}