{"ast":null,"code":"import axiosInstance from '@/axios.js';\nexport default {\n  data() {\n    return {\n      previousOrders: [],\n      loading: true,\n      error: null,\n      isAuthenticated: !!localStorage.getItem('token')\n    };\n  },\n  getImagePath(name) {\n    const product = this.inventory.find(p => {\n      return p.name === name;\n    });\n    return require(`../assets/images/product-images/${product.imagePath}`);\n  },\n  async created() {\n    if (this.isAuthenticated) {\n      try {\n        const response = await axiosInstance.get('/users/previous-orders', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.previousOrders = response.data || [];\n      } catch (error) {\n        this.error = 'Failed to load past orders.';\n      } finally {\n        this.loading = false;\n      }\n    } else {\n      this.loading = false;\n    }\n  }\n};","map":{"version":3,"names":["axiosInstance","data","previousOrders","loading","error","isAuthenticated","localStorage","getItem","getImagePath","name","product","inventory","find","p","require","imagePath","created","response","get","headers","Authorization"],"sources":["/Users/macbookpro/Documents/University/Year 3/Pathway 1/COS30043 Interface Design and Development/HD Project/football-store-app/src/views/PastOrders.vue"],"sourcesContent":["<!-- <template>\n  <section class=\"h-100\" style=\"background-color: #eee;\">\n    <div class=\"container h-100 py-5\">\n      <div class=\"row d-flex justify-content-center align-items-center h-100\">\n        <div class=\"col-10\">\n  \n          <div class=\"d-flex justify-content-between align-items-center mb-4\">\n            <h3 class=\"fw-normal mb-0 text-black\">Past Orders</h3>\n            <div>\n              <p class=\"mb-0\"><span class=\"text-muted\">Sort by:</span> <a href=\"#!\" class=\"text-body\">price <i\n                    class=\"fas fa-angle-down mt-1\"></i></a></p>\n            </div>\n          </div>\n  \n          <div class=\"card rounded-3 mb-4\">\n            <div class=\"card-body p-4\">\n              <div class=\"row d-flex justify-content-between align-items-center\">\n                <div class=\"col-md-2 col-lg-2 col-xl-2\">\n                  <img\n                    src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-shopping-carts/img1.webp\"\n                    class=\"img-fluid rounded-3\" alt=\"Cotton T-shirt\">\n                </div>\n                <div class=\"col-md-3 col-lg-3 col-xl-3\">\n                  <p class=\"lead fw-normal mb-2\">Basic T-shirt</p>\n                  <p><span class=\"text-muted\">Size: </span>M <span class=\"text-muted\">Color: </span>Grey</p>\n                </div>\n                <div class=\"col-md-3 col-lg-3 col-xl-2 d-flex\">\n                  <button class=\"btn btn-link px-2\">\n                    <i class=\"fas fa-minus\"></i>\n                  </button>\n  \n                  <input id=\"form1\" min=\"0\" name=\"quantity\" value=\"2\" type=\"number\"\n                    class=\"form-control form-control-sm\" />\n  \n                  <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-link px-2\"\n                    onclick=\"this.parentNode.querySelector('input[type=number]').stepUp()\">\n                    <i class=\"fas fa-plus\"></i>\n                  </button>\n                </div>\n                <div class=\"col-md-3 col-lg-2 col-xl-2 offset-lg-1\">\n                  <h5 class=\"mb-0\">$499.00</h5>\n                </div>\n                <div class=\"col-md-1 col-lg-1 col-xl-1 text-end\">\n                  <a href=\"#!\" class=\"text-danger\"><i class=\"fas fa-trash fa-lg\"></i></a>\n                </div>\n              </div>\n            </div>\n          </div>\n  \n          <div class=\"card rounded-3 mb-4\">\n            <div class=\"card-body p-4\">\n              <div class=\"row d-flex justify-content-between align-items-center\">\n                <div class=\"col-md-2 col-lg-2 col-xl-2\">\n                  <img\n                    src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-shopping-carts/img1.webp\"\n                    class=\"img-fluid rounded-3\" alt=\"Cotton T-shirt\">\n                </div>\n                <div class=\"col-md-3 col-lg-3 col-xl-3\">\n                  <p class=\"lead fw-normal mb-2\">Basic T-shirt</p>\n                  <p><span class=\"text-muted\">Size: </span>M <span class=\"text-muted\">Color: </span>Grey</p>\n                </div>\n                <div class=\"col-md-3 col-lg-3 col-xl-2 d-flex\">\n                  <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-link px-2\"\n                    onclick=\"this.parentNode.querySelector('input[type=number]').stepDown()\">\n                    <i class=\"fas fa-minus\"></i>\n                  </button>\n  \n                  <input id=\"form1\" min=\"0\" name=\"quantity\" value=\"2\" type=\"number\"\n                    class=\"form-control form-control-sm\" />\n  \n                  <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-link px-2\"\n                    onclick=\"this.parentNode.querySelector('input[type=number]').stepUp()\">\n                    <i class=\"fas fa-plus\"></i>\n                  </button>\n                </div>\n                <div class=\"col-md-3 col-lg-2 col-xl-2 offset-lg-1\">\n                  <h5 class=\"mb-0\">$499.00</h5>\n                </div>\n                <div class=\"col-md-1 col-lg-1 col-xl-1 text-end\">\n                  <a href=\"#!\" class=\"text-danger\"><i class=\"fas fa-trash fa-lg\"></i></a>\n                </div>\n              </div>\n            </div>\n          </div>\n  \n          <div class=\"card rounded-3 mb-4\">\n            <div class=\"card-body p-4\">\n              <div class=\"row d-flex justify-content-between align-items-center\">\n                <div class=\"col-md-2 col-lg-2 col-xl-2\">\n                  <img\n                    src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-shopping-carts/img1.webp\"\n                    class=\"img-fluid rounded-3\" alt=\"Cotton T-shirt\">\n                </div>\n                <div class=\"col-md-3 col-lg-3 col-xl-3\">\n                  <p class=\"lead fw-normal mb-2\">Basic T-shirt</p>\n                  <p><span class=\"text-muted\">Size: </span>M <span class=\"text-muted\">Color: </span>Grey</p>\n                </div>\n                <div class=\"col-md-3 col-lg-3 col-xl-2 d-flex\">\n                  <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-link px-2\"\n                    onclick=\"this.parentNode.querySelector('input[type=number]').stepDown()\">\n                    <i class=\"fas fa-minus\"></i>\n                  </button>\n  \n                  <input id=\"form1\" min=\"0\" name=\"quantity\" value=\"2\" type=\"number\"\n                    class=\"form-control form-control-sm\" />\n  \n                  <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-link px-2\"\n                    onclick=\"this.parentNode.querySelector('input[type=number]').stepUp()\">\n                    <i class=\"fas fa-plus\"></i>\n                  </button>\n                </div>\n                <div class=\"col-md-3 col-lg-2 col-xl-2 offset-lg-1\">\n                  <h5 class=\"mb-0\">$499.00</h5>\n                </div>\n                <div class=\"col-md-1 col-lg-1 col-xl-1 text-end\">\n                  <a href=\"#!\" class=\"text-danger\"><i class=\"fas fa-trash fa-lg\"></i></a>\n                </div>\n              </div>\n            </div>\n          </div>\n  \n          <div class=\"card rounded-3 mb-4\">\n            <div class=\"card-body p-4\">\n              <div class=\"row d-flex justify-content-between align-items-center\">\n                <div class=\"col-md-2 col-lg-2 col-xl-2\">\n                  <img\n                    src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-shopping-carts/img1.webp\"\n                    class=\"img-fluid rounded-3\" alt=\"Cotton T-shirt\">\n                </div>\n                <div class=\"col-md-3 col-lg-3 col-xl-3\">\n                  <p class=\"lead fw-normal mb-2\">Basic T-shirt</p>\n                  <p><span class=\"text-muted\">Size: </span>M <span class=\"text-muted\">Color: </span>Grey</p>\n                </div>\n                <div class=\"col-md-3 col-lg-3 col-xl-2 d-flex\">\n                  <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-link px-2\"\n                    onclick=\"this.parentNode.querySelector('input[type=number]').stepDown()\">\n                    <i class=\"fas fa-minus\"></i>\n                  </button>\n  \n                  <input id=\"form1\" min=\"0\" name=\"quantity\" value=\"2\" type=\"number\"\n                    class=\"form-control form-control-sm\" />\n  \n                  <button data-mdb-button-init data-mdb-ripple-init class=\"btn btn-link px-2\"\n                    onclick=\"this.parentNode.querySelector('input[type=number]').stepUp()\">\n                    <i class=\"fas fa-plus\"></i>\n                  </button>\n                </div>\n                <div class=\"col-md-3 col-lg-2 col-xl-2 offset-lg-1\">\n                  <h5 class=\"mb-0\">$499.00</h5>\n                </div>\n                <div class=\"col-md-1 col-lg-1 col-xl-1 text-end\">\n                  <router-link to=\"/cart-page\" class=\"text-primary\"><i class=\"bi bi-bag-check-fill\"></i>\n                  </router-link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <Footer></Footer>\n</template>\n<script>\nimport Footer from '@/components/Footer.vue'\nexport default {\n  components: {\n    Footer\n  }\n}\n</script> -->\n\n<template>\n  <div class=\"container my-5\">\n    <h1 class=\"text-center mb-4\">Past Orders</h1>\n    <div v-if=\"!isAuthenticated\" class=\"text-center\">\n      <p>You need to <router-link to=\"/login-page\">login</router-link> or <router-link to=\"/register-page\">register</router-link> to view your past orders.</p>\n    </div>\n    <div v-else>\n      <div v-if=\"loading\" class=\"text-center\">\n        <div class=\"spinner-border\" role=\"status\">\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n      <div v-if=\"!loading && previousOrders.length === 0\" class=\"text-center\">\n        <p>No past orders found.</p>\n      </div>\n      <div v-else>\n        <div class=\"order-card\" v-for=\"order in previousOrders\" :key=\"order.orderId\">\n          <h2 class=\"order-id\">Order ID: {{ order.orderId }}</h2>\n          <p><strong>Order Date:</strong> {{ order.orderDate }}</p>\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Product Image</th>\n                <th scope=\"col\">Product Name</th>\n                <th scope=\"col\">Price</th>\n                <th scope=\"col\">Quantity</th>\n                <th scope=\"col\">Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"product in order.products\" :key=\"product.productId\">\n                <td><img :src=\"getImagePath(product.imagePath)\" alt=\"Product Image\" class=\"img-thumbnail\" style=\"max-width: 100px;\"></td>\n                <td>{{ product.name }}</td>\n                <td>${{ product.price.toFixed(2) }}</td>\n                <td>{{ product.quantity }}</td>\n                <td>${{ (product.price * product.quantity).toFixed(2) }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <p class=\"text-end\"><strong>Order Total:</strong> ${{ order.total.toFixed(2) }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axiosInstance from '@/axios.js';\n\nexport default {\n  data() {\n    return {\n      previousOrders: [],\n      loading: true,\n      error: null,\n      isAuthenticated: !!localStorage.getItem('token')\n    };\n  },\n  getImagePath(name) {\n      const product = this.inventory.find((p) => {\n        return p.name === name\n      })\n      return require(`../assets/images/product-images/${product.imagePath}`);\n    },\n  async created() {\n    if (this.isAuthenticated) {\n      try {\n        const response = await axiosInstance.get('/users/previous-orders', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.previousOrders = response.data || [];\n      } catch (error) {\n        this.error = 'Failed to load past orders.';\n      } finally {\n        this.loading = false;\n      }\n    } else {\n      this.loading = false;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 1000px;\n}\n\n.order-card {\n  margin-bottom: 20px;\n  padding: 20px;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.order-id {\n  font-size: 1.2rem;\n  margin-bottom: 10px;\n}\n\n.table thead {\n  background-color: #f8f9fa;\n}\n\n.table th, .table td {\n  vertical-align: middle;\n}\n\n.img-thumbnail {\n  display: block;\n  max-width: 100px;\n  max-height: 100px;\n  width: auto;\n  height: auto;\n}\n\n.text-end {\n  text-align: end;\n}\n\n@media (max-width: 768px) {\n  .order-card {\n    padding: 15px;\n  }\n\n  .order-id {\n    font-size: 1rem;\n  }\n\n  .img-thumbnail {\n    max-width: 75px;\n    max-height: 75px;\n  }\n}\n</style>\n\n"],"mappings":"AA2NA,OAAOA,aAAY,MAAO,YAAY;AAEtC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE,EAAE;MAClBC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE,IAAI;MACXC,eAAe,EAAE,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO;IACjD,CAAC;EACH,CAAC;EACDC,YAAYA,CAACC,IAAI,EAAE;IACf,MAAMC,OAAM,GAAI,IAAI,CAACC,SAAS,CAACC,IAAI,CAAEC,CAAC,IAAK;MACzC,OAAOA,CAAC,CAACJ,IAAG,KAAMA,IAAG;IACvB,CAAC;IACD,OAAOK,OAAO,CAAE,mCAAkCJ,OAAO,CAACK,SAAU,EAAC,CAAC;EACxE,CAAC;EACH,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI,IAAI,CAACX,eAAe,EAAE;MACxB,IAAI;QACF,MAAMY,QAAO,GAAI,MAAMjB,aAAa,CAACkB,GAAG,CAAC,wBAAwB,EAAE;UACjEC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASd,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;UACzD;QACF,CAAC,CAAC;QACF,IAAI,CAACL,cAAa,GAAIe,QAAQ,CAAChB,IAAG,IAAK,EAAE;MAC3C,EAAE,OAAOG,KAAK,EAAE;QACd,IAAI,CAACA,KAAI,GAAI,6BAA6B;MAC5C,UAAU;QACR,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB;IACF,OAAO;MACL,IAAI,CAACA,OAAM,GAAI,KAAK;IACtB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}