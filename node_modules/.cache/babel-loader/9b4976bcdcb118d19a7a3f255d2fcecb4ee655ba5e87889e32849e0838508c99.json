{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-04886bd1\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"past-orders-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Past Orders\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-center\"\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"text-center\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading...\", -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = {\n  key: 1,\n  class: \"text-center\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"No past orders found.\", -1 /* HOISTED */));\nconst _hoisted_10 = [_hoisted_9];\nconst _hoisted_11 = {\n  key: 2\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Order Date:\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  class: \"table\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Product Name\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Price\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Quantity\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Total\")])], -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Order Total:\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, !$data.isAuthenticated ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"p\", null, [_createTextVNode(\"You need to \"), _createVNode(_component_router_link, {\n    to: \"/login-page\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"login\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" or \"), _createVNode(_component_router_link, {\n    to: \"/register-page\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"register\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" to view your past orders.\")])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [$data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [..._hoisted_7])) : _createCommentVNode(\"v-if\", true), !$data.loading && $data.previousOrders.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [..._hoisted_10])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.previousOrders, order => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"order-card\",\n      key: order.orderId\n    }, [_createElementVNode(\"h2\", null, \"Order ID: \" + _toDisplayString(order.orderId), 1 /* TEXT */), _createElementVNode(\"p\", null, [_hoisted_12, _createTextVNode(\" \" + _toDisplayString(order.orderDate), 1 /* TEXT */)]), _createElementVNode(\"table\", _hoisted_13, [_hoisted_14, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(order.products, product => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: product.productId\n      }, [_createElementVNode(\"td\", null, _toDisplayString(product.name), 1 /* TEXT */), _createElementVNode(\"td\", null, \"$\" + _toDisplayString(product.price), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.quantity), 1 /* TEXT */), _createElementVNode(\"td\", null, \"$\" + _toDisplayString((product.price * product.quantity).toFixed(2)), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"p\", null, [_hoisted_15, _createTextVNode(\" $\" + _toDisplayString(order.total.toFixed(2)), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))]))]))]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_6","_hoisted_9","scope","_createElementBlock","_hoisted_1","_hoisted_2","$data","isAuthenticated","_hoisted_3","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_","_hoisted_4","loading","_hoisted_5","_hoisted_7","_createCommentVNode","previousOrders","length","_hoisted_8","_hoisted_10","_hoisted_11","_Fragment","_renderList","order","orderId","_toDisplayString","_hoisted_12","orderDate","_hoisted_13","_hoisted_14","products","product","productId","name","price","quantity","toFixed","_hoisted_15","total"],"sources":["/Users/macbookpro/Documents/University/Year 3/Pathway 1/COS30043 Interface Design and Development/HD Project/football-store-app/src/views/PastOrders.vue"],"sourcesContent":["<template>\n  <div class=\"past-orders-container\">\n    <h1>Past Orders</h1>\n    <div v-if=\"!isAuthenticated\" class=\"text-center\">\n      <p>You need to <router-link to=\"/login-page\">login</router-link> or <router-link to=\"/register-page\">register</router-link> to view your past orders.</p>\n    </div>\n    <div v-else>\n      <div v-if=\"loading\" class=\"text-center\">\n        <p>Loading...</p>\n      </div>\n      <div v-if=\"!loading && previousOrders.length === 0\" class=\"text-center\">\n        <p>No past orders found.</p>\n      </div>\n      <div v-else>\n        <div class=\"order-card\" v-for=\"order in previousOrders\" :key=\"order.orderId\">\n          <h2>Order ID: {{ order.orderId }}</h2>\n          <p><strong>Order Date:</strong> {{ order.orderDate }}</p>\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Product Name</th>\n                <th scope=\"col\">Price</th>\n                <th scope=\"col\">Quantity</th>\n                <th scope=\"col\">Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"product in order.products\" :key=\"product.productId\">\n                <td>{{ product.name }}</td>\n                <td>${{ product.price }}</td>\n                <td>{{ product.quantity }}</td>\n                <td>${{ (product.price * product.quantity).toFixed(2) }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <p><strong>Order Total:</strong> ${{ order.total.toFixed(2) }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axiosInstance from '@/axios.js';\n\nexport default {\n  data() {\n    return {\n      previousOrders: [],\n      loading: true,\n      error: null,\n      isAuthenticated: !!localStorage.getItem('token')\n    };\n  },\n  async created() {\n    if (this.isAuthenticated) {\n      try {\n        const response = await axiosInstance.get('/users/previous-orders', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.previousOrders = response.data || [];\n      } catch (error) {\n        this.error = 'Failed to load past orders.';\n      } finally {\n        this.loading = false;\n      }\n    } else {\n      this.loading = false;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.past-orders-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.order-card {\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.table {\n  margin-bottom: 0;\n}\n\nh1 {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.text-center {\n  text-align: center;\n}\n\nstrong {\n  font-weight: bold;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}